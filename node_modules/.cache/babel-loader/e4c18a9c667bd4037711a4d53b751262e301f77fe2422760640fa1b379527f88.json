{"ast":null,"code":"var _jsxFileName = \"E:\\\\Coding\\\\The Void\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { collection, onSnapshot, orderBy, query } from 'firebase/firestore';\nimport { db } from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageInput({\n  onSend,\n  loading\n}) {\n  _s();\n  const [message, setMessage] = useState('');\n  const inputRef = useRef(null);\n  const handleSend = async () => {\n    if (!message.trim() || message.length > 500) return;\n    await onSend(message.trim());\n    setMessage('');\n    // inputRef.current?.focus(); // We'll move focus logic to useEffect\n  };\n\n  // Refocus input when message is cleared\n  useEffect(() => {\n    if (message === '' && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [message]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed left-1/2 bottom-8 transform -translate-x-1/2 flex flex-col items-center\",\n    style: {\n      width: '25vw',\n      minWidth: 220,\n      maxWidth: 400,\n      zIndex: 10\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-black rounded-lg border border-white flex items-center px-2 py-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        className: \"flex-1 bg-black text-white border-none outline-none text-base placeholder-gray-500 px-2 py-2\",\n        type: \"text\",\n        maxLength: 500,\n        placeholder: \"Speak into The Void...\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        \"aria-label\": \"Type your message to send to The Void\",\n        onKeyDown: e => {\n          if (e.key === 'Enter') handleSend();\n        },\n        disabled: loading,\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ml-2 text-white text-base font-bold px-3 py-2 bg-black border border-white rounded transition-opacity disabled:opacity-40\",\n        onClick: handleSend,\n        disabled: loading || !message.trim() || message.length > 500,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n// Deterministic pseudo-random for consistent placement\n_s(MessageInput, \"WHWdSxrJP5+67PoqSh0DpipZuFs=\");\n_c = MessageInput;\nfunction seededRandom(seed) {\n  let x = Math.sin(seed) * 10000;\n  return x - Math.floor(x);\n}\n\n// Normal-like distribution centered at 0\nfunction normalRandom(seed) {\n  // Box-Muller transform with two seeds\n  const u1 = seededRandom(seed);\n  const u2 = seededRandom(seed + 1000);\n  return Math.sqrt(-2.0 * Math.log(u1 + 0.0001)) * Math.cos(2.0 * Math.PI * u2) / 2; // ~-1 to 1, mostly near 0\n}\n\n// Fisher-Yates shuffle with seed\nfunction seededShuffle(array, seed) {\n  const arr = array.slice();\n  let m = arr.length,\n    t,\n    i;\n  let s = seed;\n  while (m) {\n    s = (s * 9301 + 49297) % 233280;\n    i = Math.floor(s / 233280 * m--);\n    t = arr[m];\n    arr[m] = arr[i];\n    arr[i] = t;\n  }\n  return arr;\n}\n\n// Animation frame hook\nfunction useAnimationFrame() {\n  _s2();\n  const [time, setTime] = useState(0);\n  useEffect(() => {\n    let frame;\n    let start = performance.now();\n    const animate = () => {\n      setTime(performance.now() - start);\n      frame = requestAnimationFrame(animate);\n    };\n    frame = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(frame);\n  }, []);\n  return time;\n}\n_s2(useAnimationFrame, \"5hWQWrdOaoNaY+yZN4rUVWF/ZFM=\");\nfunction MessageList({\n  messages,\n  userScroll,\n  viewport,\n  time,\n  depth,\n  floatingMessages\n}) {\n  // Show up to 10 visible messages at a time, sorted by z, with overlap prevention\n  const getVisibleMessages = () => {\n    if (!messages || messages.length === 0) return [];\n    const visible = [];\n    const placed = [];\n    const scrollZ = userScroll / 1000;\n    // Sort by z (nearest first)\n    const sorted = floatingMessages.map(msg => ({\n      ...msg,\n      z: msg.randZ * depth - scrollZ\n    })).filter(msg => msg.z > 0.01 && msg.z < 3.5) // expanded range\n    .sort((a, b) => a.z - b.z);\n    for (const msg of sorted) {\n      const perspective = 900;\n      const animX = msg.ampX * Math.sin(time * msg.freqX + msg.phaseX);\n      const animY = msg.ampY * Math.cos(time * msg.freqY + msg.phaseY);\n      const scale = Math.min(8, Math.max(0.2, perspective / (msg.z * 1000)));\n      const centerX = viewport.width / 2;\n      const centerY = viewport.height / 2;\n      const x = centerX + (msg.randX + animX) * centerX * 0.8 * scale;\n      const y = centerY + (msg.randY + animY) * centerY * 0.8 * scale + msg.z * 400;\n      // Looser overlap\n      let tooClose = false;\n      for (const p of placed) {\n        const dx = x - p.x;\n        const dy = y - p.y;\n        const minDist = 30 * (scale + p.scale) / 2;\n        if (dx * dx + dy * dy < minDist * minDist) {\n          tooClose = true;\n          break;\n        }\n      }\n      if (tooClose) continue;\n      placed.push({\n        x,\n        y,\n        scale\n      });\n      let opacity = Math.max(0.1, Math.min(1, 1.2 - msg.z));\n      let blur = 0;\n      if (msg.z < 0.12) {\n        opacity = Math.max(0, (msg.z - 0.01) / 0.11);\n        blur = 16 * (1 - opacity) + 2;\n      } else {\n        blur = Math.max(0, (msg.z - 0.2) * 6);\n      }\n      visible.push({\n        id: msg.id,\n        text: msg.text,\n        style: {\n          position: 'absolute',\n          left: x,\n          top: y + scrollZ * 1000,\n          transform: `translate(-50%, -50%) scale(${scale})`,\n          opacity,\n          color: 'white',\n          fontWeight: 300,\n          fontSize: '2rem',\n          pointerEvents: 'none',\n          whiteSpace: 'pre-line',\n          textAlign: 'center',\n          filter: `blur(${blur}px)`\n        }\n      });\n      if (visible.length >= 10) break;\n    }\n    // Fallback: if nothing is visible, show the first message at the center\n    if (visible.length === 0 && messages.length > 0) {\n      visible.push({\n        id: messages[0].id + '-fallback',\n        text: messages[0].text,\n        style: {\n          position: 'absolute',\n          left: viewport.width / 2,\n          top: viewport.height / 2,\n          transform: 'translate(-50%, -50%) scale(1.2)',\n          opacity: 0.7,\n          color: 'white',\n          fontWeight: 300,\n          fontSize: '2rem',\n          pointerEvents: 'none',\n          whiteSpace: 'pre-line',\n          textAlign: 'center',\n          filter: 'blur(0px)'\n        }\n      });\n    }\n    return visible;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '100vh',\n      width: '100vw'\n    },\n    children: getVisibleMessages().map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: msg.style,\n      children: msg.text\n    }, msg.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}\n_c2 = MessageList;\nexport default function App() {\n  _s3();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [userScroll, setUserScroll] = useState(0);\n  const [viewport, setViewport] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  const time = useAnimationFrame();\n\n  // Assign random (x, y, z) and animation params to each message, memoized by message id\n  const floatingMessages = useMemo(() => {\n    return messages.map((msg, idx) => {\n      const seed = msg.id.split('').reduce((acc, c) => acc + c.charCodeAt(0), 0) + idx;\n      // Cluster X/Y toward center using normal distribution\n      const randX = normalRandom(seed) * 0.5; // -0.5 to 0.5, mostly near 0\n      const randY = normalRandom(seed + 1) * 0.5;\n      // Random z from 0.2 to 1.0\n      const randZ = 0.2 + seededRandom(seed + 2) * 0.8; // 0.2 to 1.0\n      // Animation: random amplitude, frequency, phase\n      const ampX = 0.05 + seededRandom(seed + 3) * 0.08; // 0.05-0.13\n      const ampY = 0.05 + seededRandom(seed + 4) * 0.08;\n      const freqX = 0.0002 + seededRandom(seed + 5) * 0.0003; // 0.0002-0.0005\n      const freqY = 0.0002 + seededRandom(seed + 6) * 0.0003;\n      const phaseX = seededRandom(seed + 7) * Math.PI * 2;\n      const phaseY = seededRandom(seed + 8) * Math.PI * 2;\n      return {\n        ...msg,\n        randX,\n        randY,\n        randZ,\n        ampX,\n        ampY,\n        freqX,\n        freqY,\n        phaseX,\n        phaseY\n      };\n    });\n  }, [messages]);\n\n  // The total \"depth\" of the void\n  const depth = Math.max(floatingMessages.length * 0.25 + 1, 2);\n  // The total height of the scrollable area\n  const totalHeight = depth * 1000 + viewport.height;\n\n  // Set initial scroll to the start of the void\n  useEffect(() => {\n    const initialScroll = 0;\n    if (containerRef.current) {\n      containerRef.current.scrollTop = initialScroll;\n      setUserScroll(initialScroll);\n    }\n  }, [depth]);\n\n  // Update viewport size on resize\n  useEffect(() => {\n    const handleResize = () => {\n      setViewport({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // User scroll handler (speed control)\n  const handleScroll = e => {\n    setUserScroll(e.target.scrollTop);\n  };\n  useEffect(() => {\n    const q = query(collection(db, 'messages'), orderBy('timestamp', 'desc'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const messageData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(messageData);\n    }, error => {\n      console.error('Error fetching messages:', error);\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleSend = async text => {\n    setLoading(true);\n    try {\n      await import('firebase/firestore').then(({\n        collection,\n        addDoc,\n        serverTimestamp\n      }) => addDoc(collection(db, 'messages'), {\n        text,\n        timestamp: serverTimestamp()\n      }));\n    } catch (e) {\n      alert('Failed to send message. Please try again.');\n      console.error('Error adding message:', e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-black w-full h-screen min-h-screen overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"relative w-full h-full overflow-y-scroll bg-black\",\n      style: {\n        height: '100vh',\n        paddingBottom: 100\n      },\n      tabIndex: 0,\n      onScroll: handleScroll,\n      children: /*#__PURE__*/_jsxDEV(MessageList, {\n        messages: messages,\n        userScroll: userScroll,\n        viewport: viewport,\n        time: time,\n        depth: depth,\n        floatingMessages: floatingMessages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n      onSend: handleSend,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"dpp0mTigPCjF46U8WWMRnO/rX7I=\", false, function () {\n  return [useAnimationFrame];\n});\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MessageInput\");\n$RefreshReg$(_c2, \"MessageList\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","collection","onSnapshot","orderBy","query","db","jsxDEV","_jsxDEV","MessageInput","onSend","loading","_s","message","setMessage","inputRef","handleSend","trim","length","current","focus","className","style","width","minWidth","maxWidth","zIndex","children","ref","type","maxLength","placeholder","value","onChange","e","target","onKeyDown","key","disabled","autoFocus","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","seededRandom","seed","x","Math","sin","floor","normalRandom","u1","u2","sqrt","log","cos","PI","seededShuffle","array","arr","slice","m","t","i","s","useAnimationFrame","_s2","time","setTime","frame","start","performance","now","animate","requestAnimationFrame","cancelAnimationFrame","MessageList","messages","userScroll","viewport","depth","floatingMessages","getVisibleMessages","visible","placed","scrollZ","sorted","map","msg","z","randZ","filter","sort","a","b","perspective","animX","ampX","freqX","phaseX","animY","ampY","freqY","phaseY","scale","min","max","centerX","centerY","height","randX","y","randY","tooClose","p","dx","dy","minDist","push","opacity","blur","id","text","position","left","top","transform","color","fontWeight","fontSize","pointerEvents","whiteSpace","textAlign","_c2","App","_s3","setMessages","setLoading","setUserScroll","setViewport","window","innerWidth","innerHeight","idx","split","reduce","acc","c","charCodeAt","totalHeight","initialScroll","containerRef","scrollTop","handleResize","addEventListener","removeEventListener","handleScroll","q","unsubscribe","snapshot","messageData","docs","doc","data","error","console","then","addDoc","serverTimestamp","timestamp","alert","paddingBottom","tabIndex","onScroll","_c3","$RefreshReg$"],"sources":["E:/Coding/The Void/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from 'react';\r\nimport { collection, onSnapshot, orderBy, query } from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\nfunction MessageInput({ onSend, loading }) {\r\n  const [message, setMessage] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const handleSend = async () => {\r\n    if (!message.trim() || message.length > 500) return;\r\n    await onSend(message.trim());\r\n    setMessage('');\r\n    // inputRef.current?.focus(); // We'll move focus logic to useEffect\r\n  };\r\n\r\n  // Refocus input when message is cleared\r\n  useEffect(() => {\r\n    if (message === '' && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [message]);\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed left-1/2 bottom-8 transform -translate-x-1/2 flex flex-col items-center\"\r\n      style={{ width: '25vw', minWidth: 220, maxWidth: 400, zIndex: 10 }}\r\n    >\r\n      <div className=\"w-full bg-black rounded-lg border border-white flex items-center px-2 py-2\">\r\n        <input\r\n          ref={inputRef}\r\n          className=\"flex-1 bg-black text-white border-none outline-none text-base placeholder-gray-500 px-2 py-2\"\r\n          type=\"text\"\r\n          maxLength={500}\r\n          placeholder=\"Speak into The Void...\"\r\n          value={message}\r\n          onChange={e => setMessage(e.target.value)}\r\n          aria-label=\"Type your message to send to The Void\"\r\n          onKeyDown={e => { if (e.key === 'Enter') handleSend(); }}\r\n          disabled={loading}\r\n          autoFocus\r\n        />\r\n        <button\r\n          className=\"ml-2 text-white text-base font-bold px-3 py-2 bg-black border border-white rounded transition-opacity disabled:opacity-40\"\r\n          onClick={handleSend}\r\n          disabled={loading || !message.trim() || message.length > 500}\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Deterministic pseudo-random for consistent placement\r\nfunction seededRandom(seed) {\r\n  let x = Math.sin(seed) * 10000;\r\n  return x - Math.floor(x);\r\n}\r\n\r\n// Normal-like distribution centered at 0\r\nfunction normalRandom(seed) {\r\n  // Box-Muller transform with two seeds\r\n  const u1 = seededRandom(seed);\r\n  const u2 = seededRandom(seed + 1000);\r\n  return Math.sqrt(-2.0 * Math.log(u1 + 0.0001)) * Math.cos(2.0 * Math.PI * u2) / 2; // ~-1 to 1, mostly near 0\r\n}\r\n\r\n// Fisher-Yates shuffle with seed\r\nfunction seededShuffle(array, seed) {\r\n  const arr = array.slice();\r\n  let m = arr.length, t, i;\r\n  let s = seed;\r\n  while (m) {\r\n    s = (s * 9301 + 49297) % 233280;\r\n    i = Math.floor((s / 233280) * m--);\r\n    t = arr[m];\r\n    arr[m] = arr[i];\r\n    arr[i] = t;\r\n  }\r\n  return arr;\r\n}\r\n\r\n// Animation frame hook\r\nfunction useAnimationFrame() {\r\n  const [time, setTime] = useState(0);\r\n  useEffect(() => {\r\n    let frame;\r\n    let start = performance.now();\r\n    const animate = () => {\r\n      setTime(performance.now() - start);\r\n      frame = requestAnimationFrame(animate);\r\n    };\r\n    frame = requestAnimationFrame(animate);\r\n    return () => cancelAnimationFrame(frame);\r\n  }, []);\r\n  return time;\r\n}\r\n\r\nfunction MessageList({ messages, userScroll, viewport, time, depth, floatingMessages }) {\r\n  // Show up to 10 visible messages at a time, sorted by z, with overlap prevention\r\n  const getVisibleMessages = () => {\r\n    if (!messages || messages.length === 0) return [];\r\n    const visible = [];\r\n    const placed = [];\r\n    const scrollZ = userScroll / 1000;\r\n    // Sort by z (nearest first)\r\n    const sorted = floatingMessages\r\n      .map(msg => ({\r\n        ...msg,\r\n        z: msg.randZ * depth - scrollZ\r\n      }))\r\n      .filter(msg => msg.z > 0.01 && msg.z < 3.5) // expanded range\r\n      .sort((a, b) => a.z - b.z);\r\n    for (const msg of sorted) {\r\n      const perspective = 900;\r\n      const animX = msg.ampX * Math.sin(time * msg.freqX + msg.phaseX);\r\n      const animY = msg.ampY * Math.cos(time * msg.freqY + msg.phaseY);\r\n      const scale = Math.min(8, Math.max(0.2, perspective / (msg.z * 1000)));\r\n      const centerX = viewport.width / 2;\r\n      const centerY = viewport.height / 2;\r\n      const x = centerX + (msg.randX + animX) * centerX * 0.8 * scale;\r\n      const y = centerY + (msg.randY + animY) * centerY * 0.8 * scale + msg.z * 400;\r\n      // Looser overlap\r\n      let tooClose = false;\r\n      for (const p of placed) {\r\n        const dx = x - p.x;\r\n        const dy = y - p.y;\r\n        const minDist = 30 * (scale + p.scale) / 2;\r\n        if (dx * dx + dy * dy < minDist * minDist) {\r\n          tooClose = true;\r\n          break;\r\n        }\r\n      }\r\n      if (tooClose) continue;\r\n      placed.push({ x, y, scale });\r\n      let opacity = Math.max(0.1, Math.min(1, 1.2 - msg.z));\r\n      let blur = 0;\r\n      if (msg.z < 0.12) {\r\n        opacity = Math.max(0, (msg.z - 0.01) / 0.11);\r\n        blur = 16 * (1 - opacity) + 2;\r\n      } else {\r\n        blur = Math.max(0, (msg.z - 0.2) * 6);\r\n      }\r\n      visible.push({\r\n        id: msg.id,\r\n        text: msg.text,\r\n        style: {\r\n          position: 'absolute',\r\n          left: x,\r\n          top: y + scrollZ * 1000,\r\n          transform: `translate(-50%, -50%) scale(${scale})`,\r\n          opacity,\r\n          color: 'white',\r\n          fontWeight: 300,\r\n          fontSize: '2rem',\r\n          pointerEvents: 'none',\r\n          whiteSpace: 'pre-line',\r\n          textAlign: 'center',\r\n          filter: `blur(${blur}px)`\r\n        }\r\n      });\r\n      if (visible.length >= 10) break;\r\n    }\r\n    // Fallback: if nothing is visible, show the first message at the center\r\n    if (visible.length === 0 && messages.length > 0) {\r\n      visible.push({\r\n        id: messages[0].id + '-fallback',\r\n        text: messages[0].text,\r\n        style: {\r\n          position: 'absolute',\r\n          left: viewport.width / 2,\r\n          top: viewport.height / 2,\r\n          transform: 'translate(-50%, -50%) scale(1.2)',\r\n          opacity: 0.7,\r\n          color: 'white',\r\n          fontWeight: 300,\r\n          fontSize: '2rem',\r\n          pointerEvents: 'none',\r\n          whiteSpace: 'pre-line',\r\n          textAlign: 'center',\r\n          filter: 'blur(0px)'\r\n        }\r\n      });\r\n    }\r\n    return visible;\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', height: '100vh', width: '100vw' }}>\r\n      {getVisibleMessages().map(msg => (\r\n        <div key={msg.id} style={msg.style}>\r\n          {msg.text}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [userScroll, setUserScroll] = useState(0);\r\n  const [viewport, setViewport] = useState({ width: window.innerWidth, height: window.innerHeight });\r\n  const time = useAnimationFrame();\r\n\r\n  // Assign random (x, y, z) and animation params to each message, memoized by message id\r\n  const floatingMessages = useMemo(() => {\r\n    return messages.map((msg, idx) => {\r\n      const seed = msg.id.split('').reduce((acc, c) => acc + c.charCodeAt(0), 0) + idx;\r\n      // Cluster X/Y toward center using normal distribution\r\n      const randX = normalRandom(seed) * 0.5; // -0.5 to 0.5, mostly near 0\r\n      const randY = normalRandom(seed + 1) * 0.5;\r\n      // Random z from 0.2 to 1.0\r\n      const randZ = 0.2 + seededRandom(seed + 2) * 0.8; // 0.2 to 1.0\r\n      // Animation: random amplitude, frequency, phase\r\n      const ampX = 0.05 + seededRandom(seed + 3) * 0.08; // 0.05-0.13\r\n      const ampY = 0.05 + seededRandom(seed + 4) * 0.08;\r\n      const freqX = 0.0002 + seededRandom(seed + 5) * 0.0003; // 0.0002-0.0005\r\n      const freqY = 0.0002 + seededRandom(seed + 6) * 0.0003;\r\n      const phaseX = seededRandom(seed + 7) * Math.PI * 2;\r\n      const phaseY = seededRandom(seed + 8) * Math.PI * 2;\r\n      return {\r\n        ...msg,\r\n        randX,\r\n        randY,\r\n        randZ,\r\n        ampX,\r\n        ampY,\r\n        freqX,\r\n        freqY,\r\n        phaseX,\r\n        phaseY,\r\n      };\r\n    });\r\n  }, [messages]);\r\n\r\n  // The total \"depth\" of the void\r\n  const depth = Math.max(floatingMessages.length * 0.25 + 1, 2);\r\n  // The total height of the scrollable area\r\n  const totalHeight = depth * 1000 + viewport.height;\r\n\r\n  // Set initial scroll to the start of the void\r\n  useEffect(() => {\r\n    const initialScroll = 0;\r\n    if (containerRef.current) {\r\n      containerRef.current.scrollTop = initialScroll;\r\n      setUserScroll(initialScroll);\r\n    }\r\n  }, [depth]);\r\n\r\n  // Update viewport size on resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setViewport({ width: window.innerWidth, height: window.innerHeight });\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // User scroll handler (speed control)\r\n  const handleScroll = (e) => {\r\n    setUserScroll(e.target.scrollTop);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, 'messages'), orderBy('timestamp', 'desc'));\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const messageData = snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setMessages(messageData);\r\n    }, (error) => {\r\n      console.error('Error fetching messages:', error);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleSend = async (text) => {\r\n    setLoading(true);\r\n    try {\r\n      await import('firebase/firestore').then(({ collection, addDoc, serverTimestamp }) =>\r\n        addDoc(collection(db, 'messages'), {\r\n          text,\r\n          timestamp: serverTimestamp(),\r\n        })\r\n      );\r\n    } catch (e) {\r\n      alert('Failed to send message. Please try again.');\r\n      console.error('Error adding message:', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-black w-full h-screen min-h-screen overflow-hidden\">\r\n      <div\r\n        ref={containerRef}\r\n        className=\"relative w-full h-full overflow-y-scroll bg-black\"\r\n        style={{ height: '100vh', paddingBottom: 100 }}\r\n        tabIndex={0}\r\n        onScroll={handleScroll}\r\n      >\r\n        <MessageList\r\n          messages={messages}\r\n          userScroll={userScroll}\r\n          viewport={viewport}\r\n          time={time}\r\n          depth={depth}\r\n          floatingMessages={floatingMessages}\r\n        />\r\n      </div>\r\n      <MessageInput onSend={handleSend} loading={loading} />\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}